<script src="{{ 'cart.js' | asset_url }}"></script>

<section id="shopify-section-{{ section-id }}" class="rendering-cart cart" data-ajax-cart-section>
    <div class="container">
        {% if cart.item_count > 0 %}
            <h1>cart</h1>
            <form class="main-cart-items" action="{{ routes.cart_url }}" method="post" novalidate>
                <table>
                    <thead>
                    <th colspan="2">Prod</th>
                    <th>Price</th>
                    <th>Qty</th>
                    <th>total</th>
                    </thead>
                    <tbody>
                    {% for item in cart.items %}
                        <tr>
                            <td>
                                <a href="{{ item.url | within: collections.all }}">
                                    <img src="{{ item | img_url: 'medium' }}" alt="{{ item.title | escape }}">
                                </a>
                            </td>
                            <td>
                                <a href="{{ item.url }}">{{ item.product.title }}</a>
                                {{ item.variant.title }}
                                {% comment %}<a href="/cart/change?line={{ forloop.index }}&amp;quantity=0">remove</a>{% endcomment %}
                            </td>
                            <td>{{ item.price | money }}</td>
                            <td>
                                <a data-ajax-cart-request-button
                                   href="{{ routes.cart_change_url }}?line={{ forloop.index }}&quantity={{ item.quantity | minus: 1 }}">
                                    <i class="minus-icon"></i> -
                                </a>
                                <input data-ajax-cart-quantity-input="{{ forloop.index }}"
                                       type="number"
                                       name="updates[]"
                                       id="updates_{{ item.key }}"
                                       value="{{ item.quantity }}"
                                       min="0">
                                <a data-ajax-cart-request-button
                                   href="{{ routes.cart_change_url }}?line={{ forloop.index }}&quantity={{ item.quantity | plus: 1 }}">
                                    <i class="plus-icon"></i>+
                                </a>
                            </td>
                            <td>
                                {% if item.original_line_price != item.line_price %}{{ item.original_line_price | money }}{% endif %}
                                {% comment %}{{ item.line_price | money }}{% endcomment %}
                                <div>Total: <strong>{{ item.final_line_price | money }}</strong></div>

                                {% for discount in item.discounts %}{{ discount.title }}{% endfor %}
                            </td>
                            <div data-ajax-cart-messages="{{ item.key }}"></div>

                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
                <div>
                    <p>sub total : {{ cart.total_price | money }}</p>

                    <button type="submit" name="update">Update</button>
                    <button type="submit" name="checkout">Checkout</button>
                </div>
            </form>
        {% else %}
            <h2>Cart is empty</h2>
        {% endif %}
    </div>
</section>


{% schema %}
  {
    "name": "Cart",
    "settings": [
    ],
    "blocks": [],
  "presets": [
      {
        "name": "Cart"
      }
    ]
  }
{% endschema %}




